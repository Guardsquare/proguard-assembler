plugins {
    id 'java'
}

wrapper {
    gradleVersion = '6.4'
    distributionType = Wrapper.DistributionType.ALL
}

repositories {
    mavenLocal()
    jcenter()
}

sourceCompatibility = "${target}"
targetCompatibility = "${target}"

sourceSets.main {
    java {
        srcDirs = ['src']
    }
    resources {
        srcDirs = ['src']
        include '**/*.properties'
        include '**/*.gif'
        include '**/*.png'
        include '**/*.pro'
    }
}

dependencies {
    compile 'com.guardsquare:proguard-core:7.0.0'
}

jar {
    manifest.from 'src/META-INF/MANIFEST.MF'
}

task copyToLib(type: Copy) {
    from jar
    from configurations.runtime
    into 'lib'
}

assemble.dependsOn copyToLib
